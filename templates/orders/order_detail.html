{% extends "orders/base.html" %}

{% block page_content %}
<ion-card>
    <ion-card-header>
        <ion-card-title>Order #{{ order.order_number }}</ion-card-title>
        <ion-card-subtitle>Table {{ order.table_display }} - {{ order.get_status_display }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
        <p>Created by: {{ order.created_by|default:"-" }}</p>
        <p>Round: {{ order.round_number }}</p>
        <p>Elapsed: {{ order.elapsed_minutes }} minutes</p>
    </ion-card-content>
</ion-card>

<ion-list-header>
    <ion-label>Items</ion-label>
</ion-list-header>

<ion-list>
    {% for item in items %}
    <ion-item>
        <ion-label>
            <h2>{{ item.quantity }}x {{ item.product_name }}</h2>
            {% if item.modifiers %}<p>{{ item.modifiers }}</p>{% endif %}
            {% if item.notes %}<p><em>{{ item.notes }}</em></p>{% endif %}
        </ion-label>
        <ion-badge slot="end" color="{% if item.status == 'ready' %}success{% elif item.status == 'cancelled' %}danger{% else %}primary{% endif %}">
            {{ item.get_status_display }}
        </ion-badge>
    </ion-item>
    {% endfor %}
</ion-list>
{% endblock %}
